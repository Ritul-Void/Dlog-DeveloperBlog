<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dlog</title>
    <link rel="stylesheet" href="./styles/universal.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #000;
            color: #e7e9ea;
            line-height: 1.4;
        }

        .root {
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
            border-right: 1px solid #212121;
            border-left: 1px solid #212121;
        }

        .banner {
            height: 200px;
            background: linear-gradient(135deg, #1da1f2, #14171a);
            width: 100%;
            position: relative;
            background: linear-gradient(95deg, #0fffac, #2cff4d, #fdff32, #326aff);
            background-size: 240% 240%;
            animation: gradient-animation 12s ease infinite;
        }

        @keyframes gradient-animation {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .profile-section {
            padding: 16px;
            position: relative;
            border-bottom: 1px solid #2f3336;
        }

        .profile-image {
            width: 110px;
            height: 110px;
            border-radius: 30%;
            background-image: url("assets/logoProfile.png");
            /* background-color: #1da1f2; */
            border: 4px solid #000;
            margin-top: -60px;
            margin-bottom: 12px;
            background-size: cover;
        }

        .blog-name {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .blog-subtitle {
            color: #71767b;
            font-size: 15px;
            margin-bottom: 8px;
        }

        .contact-email {
            color: #1da1f2;
            text-decoration: none;
            font-size: 15px;
            margin-bottom: 8px;
            display: block;
        }

        .contact-email:hover {
            text-decoration: underline;
        }

        .started-year {
            color: #71767b;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .calendar-icon {
            width: 16px;
            height: 16px;
            fill: #71767b;
        }

        .nav-bar {
            display: flex;
            border-bottom: 1px solid #2f3336;
            background-color: #000;
            position: sticky;
            top: 0;
            z-index: 100;
            gap: 2rem;
            overflow-x: auto;
            white-space: nowrap;

            /* Firefox: thinner scrollbar */

            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .nav-bar::-webkit-scrollbar {
            display: none;
        }

        .nav-item {
            flex: 0 0 auto;
            padding: 16px 8px;
            text-align: center;
            color: #71767b;
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }



        .nav-item:hover {
            background-color: rgba(29, 161, 242, 0.1);
            color: #e7e9ea;
        }

        .nav-item.active {
            color: #e7e9ea;
            border-bottom-color: #1da1f2;
        }

        .posts-container {
            min-height: 400px;
        }

        .post-card {
            border-bottom: 1px solid #2f3336;
            padding: 16px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .post-card:hover {
            background-color: rgba(255, 255, 255, 0.03);
        }

        .post-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .post-meta {
            display: flex;
            gap: 12px;
            color: #71767b;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .post-preview {
            color: #e7e9ea;
            font-size: 15px;
            line-height: 1.4;
        }

        .post-tags {
            display: flex;
            gap: 6px;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background-color: rgba(29, 161, 242, 0.1);
            color: #1da1f2;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .post-content {
            padding: 16px;
            display: none;
            opacity: 0;
            transition: opacity 5s ease-in;
        }



        .post-content.active {
            display: block;
            transition:0.2s ease-in;
        }

        .back-button {
            background: none;
            border: 1px solid #2f3336;
            color: #1da1f2;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 16px;
            transition: all 0.2s;
        }

        .back-button:hover {
            background-color: rgba(29, 161, 242, 0.1);
        }

        .post-full-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .post-full-meta {
            color: #71767b;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .post-body {
            line-height: 1.6;
        }

        .post-body h1,
        .post-body h2,
        .post-body h3 {
            margin: 24px 0 12px 0;
            color: #e7e9ea;
        }

        .post-body h1 {
            font-size: 24px;
        }

        .post-body h2 {
            font-size: 20px;
        }

        .post-body h3 {
            font-size: 18px;
        }

        .post-body p {
            margin-bottom: 16px;
        }

        .post-body code {
            background-color: #2f3336;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            font-size: 14px;
        }

        .post-body pre {
            background-color: #2f3336;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 16px 0;
        }

        .post-body pre code {
            background: none;
            padding: 0;
        }

        .post-body ul,
        .post-body ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }

        .post-body li {
            margin-bottom: 4px;
        }

        .loading {
            text-align: center;
            padding: 40px 16px;
            color: #71767b;
        }

        .error {
            text-align: center;
            padding: 40px 16px;
            color: #f91880;
        }

        .no-posts {
            text-align: center;
            padding: 40px 16px;
            color: #71767b;
        }

        @media (max-width: 480px) {
            .nav-item {
                font-size: 13px;
                padding: 12px 4px;
            }

            .post-meta {
                flex-direction: column;
                gap: 4px;
            }
        }
    </style>
</head>

<body>
    <div class="root">
        <div class="banner"></div>

        <div class="profile-section">
            <div class="profile-image"></div>
            <h1 class="blog-name">Developer Blog</h1>
            <p class="blog-subtitle">Sharing code, tutorials, and web development insights</p>
            <a href="mailto:hello@devblog.com" class="contact-email">hello@devblog.com</a>
            <div class="started-year">
                <svg class="calendar-icon" viewBox="0 0 24 24">
                    <path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z" />
                    <path
                        d="M5 22h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2zM5 7h14v13H5V7z" />
                </svg>
                Started 2020
            </div>
        </div>

        <nav class="nav-bar">
            <div class="nav-item active" data-filter="all">#All</div>
            <div class="nav-item" data-filter="Python">#Python</div>
            <div class="nav-item" data-filter="Cheat Sheets">#Cheat Sheets</div>
            <div class="nav-item" data-filter="Tutorials">#Tutorials</div>
            <div class="nav-item" data-filter="Web Dev">#Web Dev</div>
            <div class="nav-item" data-filter="JavaScript">#JavaScript</div>
        </nav>

        <div class="posts-container">
            <div class="loading">Loading posts...</div>
        </div>

        <div class="post-content">
            <button class="back-button">‚Üê Back to posts</button>
            <div class="post-full-content"></div>
        </div>
    </div>

    <script>
         // Global variables
        let posts = [];
        let currentFilter = 'all';
        let postsContainer = document.querySelector('.posts-container');
        let postContent = document.querySelector('.post-content');
        let postFullContent = document.querySelector('.post-full-content');
        let backButton = document.querySelector('.back-button');
        let banner = document.querySelector('.banner')
        let profile = document.querySelector('.profile-section')
        let navBar =  document.querySelector('.nav-bar')
        // Setup event listeners
        function setupEventListeners() {
            // Navigation filter clicks
            document.querySelectorAll('.nav-item').forEach(function(item) {
                item.addEventListener('click', function(e) {
                    setActiveFilter(e.target.dataset.filter);
                });
            });

            // Back button
            backButton.addEventListener('click', function() {
                showPostsList();
            });
        }

        // Load posts from JSON (or sample data)
        async function loadPosts() {
            try {
                // For demo purposes, using sample data
                // Replace this with: const response = await fetch('YOUR_JSON_URL');
                const samplePosts = [
                    {
                        id: 1,
                        title: "Getting Started with Python Async/Await",
                        tags: ["Python", "Tutorials"],
                        time_to_read: "5 min",
                        created: "2024-09-01",
                        published: true,
                        body: "# Understanding Async/Await in Python\n\nAsynchronous programming in Python allows you to write concurrent code that can handle multiple tasks efficiently.\n\n## What is Async/Await?\n\n`async` and `await` are keywords that help you write asynchronous code that looks and feels like synchronous code.\n\n```python\nimport asyncio\n\nasync def fetch_data():\n    await asyncio.sleep(1)\n    return 'Data fetched!'\n\nasync def main():\n    result = await fetch_data()\n    print(result)\n\nasyncio.run(main())\n```\n\nThis approach is particularly useful for I/O operations, web requests, and database queries."
                    },
                    {
                        id: 2,
                        title: "JavaScript ES6+ Cheat Sheet",
                        tags: ["JavaScript", "Cheat Sheets"],
                        time_to_read: "3 min",
                        created: "2024-08-28",
                        published: true,
                        body: "# JavaScript ES6+ Quick Reference\n\n## Arrow Functions\n```javascript\n// Traditional function\nfunction add(a, b) {\n    return a + b;\n}\n\n// Arrow function\nconst add = (a, b) => a + b;\n```\n\n## Destructuring\n```javascript\n// Array destructuring\nconst [first, second] = ['hello', 'world'];\n\n// Object destructuring\nconst {name, age} = {name: 'John', age: 30};\n```\n\n## Template Literals\n```javascript\nconst name = 'World';\nconst greeting = `Hello, ${name}!`;\n```"
                    },
                    {
                        id: 3,
                        title: "Building Responsive Layouts with CSS Grid",
                        tags: ["Web Dev", "Tutorials"],
                        time_to_read: "8 min",
                        created: "2024-08-25",
                        published: true,
                        body: "# Mastering CSS Grid for Responsive Design\n\nCSS Grid is a powerful layout system that allows you to create complex, responsive layouts with ease.\n\n## Basic Grid Setup\n\n```css\n.container {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 1rem;\n}\n```\n\n## Grid Areas\n\nYou can define named grid areas for more semantic layouts:\n\n```css\n.layout {\n    display: grid;\n    grid-template-areas:\n        'header header'\n        'sidebar main'\n        'footer footer';\n}\n\n.header { grid-area: header; }\n.sidebar { grid-area: sidebar; }\n.main { grid-area: main; }\n.footer { grid-area: footer; }\n```"
                    },
                    {
                        id: 4,
                        title: "Python List Comprehensions Guide",
                        tags: ["Python", "Cheat Sheets"],
                        time_to_read: "4 min",
                        created: "2024-08-20",
                        published: true,
                        body: "# Python List Comprehensions\n\nList comprehensions provide a concise way to create lists based on existing lists.\n\n## Basic Syntax\n```python\n# Traditional approach\nresult = []\nfor x in range(10):\n    if x % 2 == 0:\n        result.append(x**2)\n\n# List comprehension\nresult = [x**2 for x in range(10) if x % 2 == 0]\n```\n\n## Nested Comprehensions\n```python\n# Creating a matrix\nmatrix = [[i*j for i in range(3)] for j in range(3)]\n```\n\n## Dictionary Comprehensions\n```python\nsquares = {x: x**2 for x in range(5)}\n```"
                    }
                ];
                
                posts = samplePosts.filter(function(post) {
                    return post.published;
                });
                renderPosts();
            } catch (error) {
                showError('Failed to load posts. Please try again later.');
            }
        }

        // Set active filter and update posts
        function setActiveFilter(filter) {
            // Update active nav item
            document.querySelectorAll('.nav-item').forEach(function(item) {
                item.classList.remove('active');
            });
            document.querySelector('[data-filter="' + filter + '"]').classList.add('active');
            
            currentFilter = filter;
            renderPosts();
        }

        // Get filtered posts based on current filter
        function getFilteredPosts() {
            if (currentFilter === 'all') {
                return posts;
            }
            return posts.filter(function(post) {
                return post.tags.includes(currentFilter);
            });
        }

        // Render posts to the page
        function renderPosts() {
            const filteredPosts = getFilteredPosts();
            
            if (filteredPosts.length === 0) {
                postsContainer.innerHTML = '<div class="no-posts">No posts found for this filter.</div>';
                return;
            }

            let postsHTML = '';
            filteredPosts.forEach(function(post) {
                postsHTML += '<div class="post-card" data-id="' + post.id + '">' +
                    '<h3 class="post-title">' + post.title + '</h3>' +
                    '<div class="post-meta">' +
                        '<span>' + formatDate(post.created) + '</span>' +
                        '<span>' + post.time_to_read + ' read</span>' +
                    '</div>' +
                    '<div class="post-preview">' + getPreview(post.body) + '</div>' +
                    '<div class="post-tags">' +
                        post.tags.map(function(tag) {
                            return '<span class="tag">' + tag + '</span>';
                        }).join('') +
                    '</div>' +
                '</div>';
            });

            postsContainer.innerHTML = postsHTML;

            // Add click listeners to post cards
            document.querySelectorAll('.post-card').forEach(function(card) {
                card.addEventListener('click', function() {
                    const postId = parseInt(card.dataset.id);
                    showPost(postId);
                });
            });
        }

        // Get preview text from post body
        function getPreview(body, maxLength) {
            if (!maxLength) maxLength = 150;
            
            // Remove markdown syntax for preview
            const plainText = body
                .replace(/#{1,6}\s/g, '') // Headers
                .replace(/\*\*(.*?)\*\*/g, '$1') // Bold
                .replace(/\*(.*?)\*/g, '$1') // Italic
                .replace(/`(.*?)`/g, '$1') // Inline code
                .replace(/```[\s\S]*?```/g, '[Code block]') // Code blocks
                .trim();
            
            return plainText.length > maxLength 
                ? plainText.substring(0, maxLength) + '...'
                : plainText;
        }

        // Show full post
        function showPost(postId) {
            let post = null;
            for (let i = 0; i < posts.length; i++) {
                if (posts[i].id === postId) {
                    post = posts[i];
                    break;
                }
            }
            
            if (!post) return;

            const postHTML = '<h1 class="post-full-title">' + post.title + '</h1>' +
                '<div class="post-full-meta">' +
                    formatDate(post.created) + ' ‚Ä¢ ' + post.time_to_read + ' read' +
                    '<div class="post-tags" style="margin-top: 8px;">' +
                        post.tags.map(function(tag) {
                            return '<span class="tag">' + tag + '</span>';
                        }).join('') +
                    '</div>' +
                '</div>' +
                '<div class="post-body">' + parseMarkdown(post.body) + '</div>';

            postFullContent.innerHTML = postHTML;
            postContent.style.opacity ='1'
            postsContainer.style.display = 'none';
            navBar.style.display = 'none';
            banner.style.display = 'none';
            profile.style.display = 'none';
            window.scrollTo({top:0,behaviour:'smooth'})
            postContent.classList.add('active');

        }

        // Show posts list
        function showPostsList() {
            postContent.style.opacity ='0'

             banner.style.display = 'block';
            profile.style.display = 'block';
            navBar.style.display = 'flex';
            postsContainer.style.display = 'block';
            postContent.classList.remove('active');
        }

        // Parse markdown to HTML
        function parseMarkdown(text) {
            return text
                // Headers
                .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                // Code blocks
                .replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>')
                // Inline code
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                // Bold
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                // Italic
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                // Line breaks
                .replace(/\n\n/g, '</p><p>')
                .replace(/^/, '<p>')
                .replace(/$/, '</p>')
                // Clean up empty paragraphs
                .replace(/<p><\/p>/g, '')
                .replace(/<p>(<h[1-6]>)/g, '$1')
                .replace(/(<\/h[1-6]>)<\/p>/g, '$1');
        }

        // Format date string
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Show error message
        function showError(message) {
            postsContainer.innerHTML = '<div class="error">' + message + '</div>';
        }

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            loadPosts();
        });
    </script>
</body>

</html>